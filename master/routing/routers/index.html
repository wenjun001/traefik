



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Traefik Documentation">
      
      
      
        <meta name="author" content="containo.us">
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../assets/img/traefik.icon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.0.2">
    
    
      
        <title>Routers - Traefik</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.982221ab.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/application-palette.224b79ff.css">
      
      
        
        
        <meta name="theme-color" content="#00bcd4">
      
    
    
      <script src="../../assets/javascripts/modernizr.1f0bcf2b.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../assets/fonts/material-icons.css">
    
    
      <link rel="stylesheet" href="../../assets/styles/extra.css">
    
      <link rel="stylesheet" href="../../assets/styles/atom-one-light.css">
    
    
      
        
<script>
  window.ga = window.ga || function() {
    (ga.q = ga.q || []).push(arguments)
  }
  ga.l = +new Date
  /* Setup integration and send page view */
  ga("create", "UA-51880359-3", "docs.traefik.io")
  ga("set", "anonymizeIp", true)
  ga("send", "pageview")
  /* Register handler to log search on blur */
  document.addEventListener("DOMContentLoaded", () => {
    if (document.forms.search) {
      var query = document.forms.search.query
      query.addEventListener("blur", function() {
        if (this.value) {
          var path = document.location.pathname;
          ga("send", "pageview", path + "?q=" + this.value)
        }
      })
    }
  })
</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
      
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="cyan" data-md-color-accent="cyan">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448"
    viewBox="0 0 416 448" id="__github">
  <path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z" />
</svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#routers" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../.." title="Traefik" class="md-header-nav__button md-logo">
          
            <img src="../../assets/img/traefik.logo.png" width="24" height="24">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              Traefik
            </span>
            <span class="md-header-nav__topic">
              Routers
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  

<a href="https://github.com/containous/traefik/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    GitHub
  </div>
</a>
          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="../.." title="Traefik" class="md-nav__button md-logo">
      
        <img src="../../assets/img/traefik.logo.png" width="48" height="48">
      
    </a>
    Traefik
  </label>
  
    <div class="md-nav__source">
      


  

<a href="https://github.com/containous/traefik/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../../providers/kubernetes-ingress/" title="" class="md-nav__link">
      
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../reference/acme/" title="" class="md-nav__link">
      
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../reference/providers/docker/" title="" class="md-nav__link">
      
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../reference/providers/file/" title="" class="md-nav__link">
      
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../reference/providers/kubernetescrd/" title="" class="md-nav__link">
      
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../reference/entrypoints/" title="" class="md-nav__link">
      
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Welcome" class="md-nav__link">
      Welcome
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8">
    
    <label class="md-nav__link" for="nav-8">
      Getting Started
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-8">
        Getting Started
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../getting-started/concepts/" title="Concepts" class="md-nav__link">
      Concepts
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../getting-started/quick-start/" title="Quick Start" class="md-nav__link">
      Quick Start
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../getting-started/configuration-overview/" title="Configuration Introduction" class="md-nav__link">
      Configuration Introduction
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9" type="checkbox" id="nav-9">
    
    <label class="md-nav__link" for="nav-9">
      Configuration Discovery
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-9">
        Configuration Discovery
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../providers/overview/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../providers/docker/" title="Docker" class="md-nav__link">
      Docker
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../providers/file/" title="File" class="md-nav__link">
      File
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../providers/kubernetes-crd/" title="Kubernetes IngressRoute" class="md-nav__link">
      Kubernetes IngressRoute
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-10" type="checkbox" id="nav-10" checked>
    
    <label class="md-nav__link" for="nav-10">
      Routing & Load Balancing
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-10">
        Routing & Load Balancing
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../overview/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../entrypoints/" title="Entrypoints" class="md-nav__link">
      Entrypoints
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Routers
      </label>
    
    <a href="./" title="Routers" class="md-nav__link md-nav__link--active">
      Routers
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#configuration-example" title="Configuration Example" class="md-nav__link">
    Configuration Example
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuring-http-routers" title="Configuring HTTP Routers" class="md-nav__link">
    Configuring HTTP Routers
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#entrypoints" title="EntryPoints" class="md-nav__link">
    EntryPoints
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rule" title="Rule" class="md-nav__link">
    Rule
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#middlewares" title="Middlewares" class="md-nav__link">
    Middlewares
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#service" title="Service" class="md-nav__link">
    Service
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tls" title="TLS" class="md-nav__link">
    TLS
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuring-tcp-routers" title="Configuring TCP Routers" class="md-nav__link">
    Configuring TCP Routers
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#general" title="General" class="md-nav__link">
    General
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#entrypoints_1" title="EntryPoints" class="md-nav__link">
    EntryPoints
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rule_1" title="Rule" class="md-nav__link">
    Rule
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#services" title="Services" class="md-nav__link">
    Services
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tls_1" title="TLS" class="md-nav__link">
    TLS
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../services/" title="Services" class="md-nav__link">
      Services
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-11" type="checkbox" id="nav-11">
    
    <label class="md-nav__link" for="nav-11">
      HTTPS & TLS
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-11">
        HTTPS & TLS
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../https-tls/overview/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../https-tls/acme/" title="ACME" class="md-nav__link">
      ACME
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-12" type="checkbox" id="nav-12">
    
    <label class="md-nav__link" for="nav-12">
      Middlewares
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-12">
        Middlewares
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../middlewares/overview/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../middlewares/addprefix/" title="AddPrefix" class="md-nav__link">
      AddPrefix
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../middlewares/basicauth/" title="BasicAuth" class="md-nav__link">
      BasicAuth
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../middlewares/buffering/" title="Buffering" class="md-nav__link">
      Buffering
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../middlewares/chain/" title="Chain" class="md-nav__link">
      Chain
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../middlewares/circuitbreaker/" title="CircuitBreaker" class="md-nav__link">
      CircuitBreaker
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../middlewares/compress/" title="Compress" class="md-nav__link">
      Compress
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../middlewares/digestauth/" title="DigestAuth" class="md-nav__link">
      DigestAuth
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../middlewares/errorpages/" title="Errors" class="md-nav__link">
      Errors
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../middlewares/forwardauth/" title="ForwardAuth" class="md-nav__link">
      ForwardAuth
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../middlewares/headers/" title="Headers" class="md-nav__link">
      Headers
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../middlewares/ipwhitelist/" title="IpWhitelist" class="md-nav__link">
      IpWhitelist
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../middlewares/maxconnection/" title="Maxconn" class="md-nav__link">
      Maxconn
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../middlewares/passtlsclientcert/" title="PassTLSClientCert" class="md-nav__link">
      PassTLSClientCert
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../middlewares/ratelimit/" title="RateLimit" class="md-nav__link">
      RateLimit
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../middlewares/redirectregex/" title="RedirectRegex" class="md-nav__link">
      RedirectRegex
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../middlewares/redirectscheme/" title="RedirectScheme" class="md-nav__link">
      RedirectScheme
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../middlewares/replacepath/" title="ReplacePath" class="md-nav__link">
      ReplacePath
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../middlewares/replacepathregex/" title="ReplacePathRegex" class="md-nav__link">
      ReplacePathRegex
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../middlewares/retry/" title="Retry" class="md-nav__link">
      Retry
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../middlewares/stripprefix/" title="StripPrefix" class="md-nav__link">
      StripPrefix
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../middlewares/stripprefixregex/" title="StripPrefixRegex" class="md-nav__link">
      StripPrefixRegex
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-13" type="checkbox" id="nav-13">
    
    <label class="md-nav__link" for="nav-13">
      Operations
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-13">
        Operations
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../operations/cli/" title="CLI" class="md-nav__link">
      CLI
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../operations/dashboard/" title="Dashboard" class="md-nav__link">
      Dashboard
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../operations/ping/" title="Ping" class="md-nav__link">
      Ping
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../operations/debug-mode/" title="Debug Mode" class="md-nav__link">
      Debug Mode
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-14" type="checkbox" id="nav-14">
    
    <label class="md-nav__link" for="nav-14">
      Observability
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-14">
        Observability
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../observability/logs/" title="Logs" class="md-nav__link">
      Logs
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../observability/access-logs/" title="Access Logs" class="md-nav__link">
      Access Logs
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../observability/tracing/" title="Tracing" class="md-nav__link">
      Tracing
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-15" type="checkbox" id="nav-15">
    
    <label class="md-nav__link" for="nav-15">
      User Guides
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-15">
        User Guides
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../user-guides/crd-acme/" title="Kubernetes and Let's Encrypt" class="md-nav__link">
      Kubernetes and Let's Encrypt
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-16" type="checkbox" id="nav-16">
    
    <label class="md-nav__link" for="nav-16">
      Contributing
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-16">
        Contributing
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../contributing/thank-you/" title="Thank You!" class="md-nav__link">
      Thank You!
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../contributing/submitting-issues/" title="Submitting Issues" class="md-nav__link">
      Submitting Issues
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../contributing/submitting-pull-requests/" title="Submitting PRs" class="md-nav__link">
      Submitting PRs
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../contributing/building-testing/" title="Building and Testing" class="md-nav__link">
      Building and Testing
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../contributing/documentation/" title="Documentation" class="md-nav__link">
      Documentation
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../contributing/data-collection/" title="Data Collection" class="md-nav__link">
      Data Collection
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../contributing/advocating/" title="Advocating" class="md-nav__link">
      Advocating
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../contributing/maintainers/" title="Maintainers" class="md-nav__link">
      Maintainers
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../glossary/" title="Glossary" class="md-nav__link">
      Glossary
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#configuration-example" title="Configuration Example" class="md-nav__link">
    Configuration Example
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuring-http-routers" title="Configuring HTTP Routers" class="md-nav__link">
    Configuring HTTP Routers
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#entrypoints" title="EntryPoints" class="md-nav__link">
    EntryPoints
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rule" title="Rule" class="md-nav__link">
    Rule
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#middlewares" title="Middlewares" class="md-nav__link">
    Middlewares
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#service" title="Service" class="md-nav__link">
    Service
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tls" title="TLS" class="md-nav__link">
    TLS
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuring-tcp-routers" title="Configuring TCP Routers" class="md-nav__link">
    Configuring TCP Routers
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#general" title="General" class="md-nav__link">
    General
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#entrypoints_1" title="EntryPoints" class="md-nav__link">
    EntryPoints
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rule_1" title="Rule" class="md-nav__link">
    Rule
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#services" title="Services" class="md-nav__link">
    Services
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tls_1" title="TLS" class="md-nav__link">
    TLS
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/containous/traefik/edit/master/content/routing/routers/index.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="routers">Routers<a class="headerlink" href="#routers" title="Permanent link">&para;</a></h1>
<p class="subtitle">Connecting Requests to Services</p>
<p><img alt="routers" src="../../assets/img/routers.png" /></p>
<p>A router is in charge of connecting incoming requests to the services that can handle them.
In the process, routers may use pieces of <a href="../../middlewares/overview/">middleware</a> to update the request, or act before forwarding the request to the service.</p>
<h2 id="configuration-example">Configuration Example<a class="headerlink" href="#configuration-example" title="Permanent link">&para;</a></h2>
<details class="example"><summary>Requests /foo are Handled by service-foo -- Using the <a href="../../providers/file/">File Provider</a></summary><pre class="highlight"><code class="language-toml">  [http.routers]
    [http.routers.my-router]
    rule = "Path(`/foo`)"
    service = "service-foo"</code></pre>

</details>
<details class="example"><summary>With a <a href="../../middlewares/overview/">middleware</a> -- using the <a href="../../providers/file/">File Provider</a></summary><pre class="highlight"><code class="language-toml">  [http.routers]
    [http.routers.my-router]
    rule = "Path(`/foo`)"
    middlewares = ["authentication"] # declared elsewhere
    service = "service-foo"</code></pre>

</details>
<details class="example"><summary>Forwarding all (non-tls) requests on port 3306 to a database service</summary><pre class="highlight"><code class="language-toml">  [entrypoints]
    [entrypoints.mysql-default]
      address = ":80"
    [entrypoints.mysql-default]
      address = ":3306"

  [tcp]
    [tcp.routers]
      [tcp.routers.to-database]
        entrypoints = ["mysql-default"]
        rule = "HostSNI(`*`)" # Catch every request (only available rule for non-tls routers. See below.)
        service = "database"</code></pre>

</details>
<h2 id="configuring-http-routers">Configuring HTTP Routers<a class="headerlink" href="#configuring-http-routers" title="Permanent link">&para;</a></h2>
<h3 id="entrypoints">EntryPoints<a class="headerlink" href="#entrypoints" title="Permanent link">&para;</a></h3>
<p>If not specified, HTTP routers will accept requests from all defined entrypoints.
If you want to limit the router scope to a set of entrypoint, set the entrypoints option.</p>
<details class="example"><summary>Listens to Every EntryPoint</summary><pre class="highlight"><code class="language-toml">[entrypoints]
   [entrypoints.web]
      # ...
   [entrypoints.web-secure]
      # ...
   [entrypoints.other]
      # ...

[http.routers]
   [http.routers.Router-1]
      # By default, routers listen to every entrypoints
      rule = "Host(`traefik.io`)"
      service = "service-1"</code></pre>

</details>
<details class="example"><summary>Listens to Specific EntryPoints</summary><pre class="highlight"><code class="language-toml">[entrypoints]
   [entrypoints.web]
      # ...
   [entrypoint.web-secure]
      # ...
   [entrypoint.other]
      # ...

[http.routers]
   [http.routers.Router-1]
      entryPoints = ["web-secure", "other"] # won't listen to entrypoint web
      rule = "Host(`traefik.io`)"
      service = "service-1"</code></pre>

</details>
<h3 id="rule">Rule<a class="headerlink" href="#rule" title="Permanent link">&para;</a></h3>
<p>Rules are a set of matchers that determine if a particular request matches specific criteria.
If the rule is verified, then the router becomes active and calls middlewares, then forward the request to the service.</p>
<details class="example"><summary>Host is traefik.io</summary><pre class="highlight"><code class="language-toml">   rule = "Host(`traefik.io`)"</code></pre>

</details>
<details class="example"><summary>Host is traefik.io OR Host is containo.us AND path is /traefik</summary><pre class="highlight"><code class="language-toml">   rule = "Host(`traefik.io`) || (Host(`containo.us`) &amp;&amp; Path(`/traefik`))"</code></pre>

</details>
<p>The table below lists all the available matchers:</p>
<table>
<thead>
<tr>
<th>Rule</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Headers(`key`, `value`)</code></td>
<td>Check if there is a key <code>key</code>defined in the headers, with the value <code>value</code></td>
</tr>
<tr>
<td><code>HeadersRegexp(`key`, `regexp`)</code></td>
<td>Check if there is a key <code>key</code>defined in the headers, with a value that matches the regular expression <code>regexp</code></td>
</tr>
<tr>
<td><code>Host(`domain-1`, ...)</code></td>
<td>Check if the request domain targets one of the given <code>domains</code>.</td>
</tr>
<tr>
<td><code>HostRegexp(`traefik.io`, `{subdomain:[a-z]+}.traefik.io`, ...)</code></td>
<td>Check if the request domain matches the given <code>regexp</code>.</td>
</tr>
<tr>
<td><code>Method(methods, ...)</code></td>
<td>Check if the request method is one of the given <code>methods</code> (<code>GET</code>, <code>POST</code>, <code>PUT</code>, <code>DELETE</code>, <code>PATCH</code>)</td>
</tr>
<tr>
<td><code>Path(`path`, `/articles/{category}/{id:[0-9]+}`, ...)</code></td>
<td>Match exact request path. It accepts a sequence of literal and regular expression paths.</td>
</tr>
<tr>
<td><code>PathPrefix(`/products/`, `/articles/{category}/{id:[0-9]+}`)</code></td>
<td>Match request prefix path. It accepts a sequence of literal and regular expression prefix paths.</td>
</tr>
<tr>
<td><code>Query(`foo=bar`, `bar=baz`)</code></td>
<td>Match` Query String parameters. It accepts a sequence of key=value pairs.</td>
</tr>
</tbody>
</table>
<div class="admonition important">
<p class="admonition-title">Regexp Syntax</p>
<p>In order to use regular expressions with <code>Host</code> and <code>Path</code> expressions,
you must declare an arbitrarily named variable followed by the colon-separated regular expression, all enclosed in curly braces.
Any pattern supported by <a href="https://golang.org/pkg/regexp/">Go's regexp package</a> may be used (example: <code>/posts/{id:[0-9]+}</code>).</p>
</div>
<div class="admonition tip">
<p class="admonition-title">Combining Matchers Using Operators and Parenthesis</p>
<p>You can combine multiple matchers using the AND (<code>&amp;&amp;</code>) and OR (`||) operators. You can also use parenthesis.</p>
</div>
<div class="admonition important">
<p class="admonition-title">Rule, Middleware, and Services</p>
<p>The rule is evaluated "before" any middleware has the opportunity to work, and "before" the request is forwarded to the service.</p>
</div>
<div class="admonition tip">
<p class="admonition-title">Path Vs PathPrefix</p>
<p>Use <code>Path</code> if your service listens on the exact path only. For instance, <code>Path: /products</code> would match <code>/products</code> but not <code>/products/shoes</code>.</p>
<p>Use a <code>*Prefix*</code> matcher if your service listens on a particular base path but also serves requests on sub-paths.
For instance, <code>PathPrefix: /products</code> would match <code>/products</code> but also <code>/products/shoes</code> and <code>/products/shirts</code>.
Since the path is forwarded as-is, your service is expected to listen on <code>/products</code>.</p>
</div>
<h3 id="middlewares">Middlewares<a class="headerlink" href="#middlewares" title="Permanent link">&para;</a></h3>
<p>You can attach a list of <a href="../../middlewares/overview/">middlewares</a> to each HTTP router.
The middlewares will take effect only if the rule matches, and before forwarding the request to the service.</p>
<h3 id="service">Service<a class="headerlink" href="#service" title="Permanent link">&para;</a></h3>
<p>You must attach a <a href="../services/">service</a> per router.
Services are the target for the router.</p>
<div class="admonition note">
<p class="admonition-title">HTTP Only</p>
<p>HTTP routers can only target HTTP services (not TCP services).</p>
</div>
<h3 id="tls">TLS<a class="headerlink" href="#tls" title="Permanent link">&para;</a></h3>
<p>When specifying a TLS section, you tell Traefik that the current router is dedicated to HTTPS requests only (and that the router should ignore HTTP (non tls) requests).
Traefik will terminate the SSL connections (meaning that it will send decrypted data to the services).</p>
<details class="example"><summary>Configuring the router to accept HTTPS requests only</summary><pre class="highlight"><code class="language-toml">[http.routers]
   [http.routers.Router-1]
      rule = "Host(`foo-domain`) &amp;&amp; Path(`/foo-path/`)"
      service = "service-id"
      [http.routers.Router-1.tls] # will terminate the TLS request</code></pre>

</details>
<div class="admonition note">
<p class="admonition-title">HTTPS &amp; ACME</p>
<p>In the current version, with <a href="../../https-tls/acme/">ACME</a> enabled, automatic certificate generation will apply to every router declaring a TLS section.
In the near future, options will be available to enable fine-grain control of the TLS parameters.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Passthrough</p>
<p>On TCP routers, you can configure a passthrough option so that Traefik doesn't terminate the TLS connection.</p>
</div>
<div class="admonition important">
<p class="admonition-title">Routers for HTTP &amp; HTTPS</p>
<p>If you need to define the same route for both HTTP and HTTPS requests, you will need to define two different routers: one with the tls section, one without.</p>
<details class="example"><summary>HTTP &amp; HTTPS routes</summary><pre class="highlight"><code class="language-toml">[http.routers]
   [http.routers.Router-1-https]
      rule = "Host(`foo-domain`) &amp;&amp; Path(`/foo-path/`)"
      service = "service-id"
      [http.routers.Router-1.tls] # will terminate the TLS request

   [http.routers.Router-1-http]
      rule = "Host(`foo-domain`) &amp;&amp; Path(`/foo-path/`)"
      service = "service-id"</code></pre>

</details>
</div>
<h2 id="configuring-tcp-routers">Configuring TCP Routers<a class="headerlink" href="#configuring-tcp-routers" title="Permanent link">&para;</a></h2>
<h3 id="general">General<a class="headerlink" href="#general" title="Permanent link">&para;</a></h3>
<p>If both HTTP routers and TCP routers listen to the same entrypoints, the TCP routers will apply <em>before</em> the HTTP routers.
If no matching route is found for the TCP routers, then the HTTP routers will take over.</p>
<h3 id="entrypoints_1">EntryPoints<a class="headerlink" href="#entrypoints_1" title="Permanent link">&para;</a></h3>
<p>If not specified, TCP routers will accept requests from all defined entrypoints.
If you want to limit the router scope to a set of entrypoints, set the entrypoints option.</p>
<details class="example"><summary>Listens to Every EntryPoint</summary><pre class="highlight"><code class="language-toml">[entrypoints]
   [entrypoints.web]
      # ...
   [entrypoints.web-secure]
      # ...
   [entrypoints.other]
      # ...

[tcp.routers]
   [tcp.routers.Router-1]
      # By default, routers listen to every entrypoints
      rule = "HostSNI(`traefik.io`)"
      service = "service-1"
      [tcp.routers.Router-1.tls] # will route TLS requests (and ignore non tls requests)</code></pre>

</details>
<details class="example"><summary>Listens to Specific EntryPoints</summary><pre class="highlight"><code class="language-toml">[entrypoints]
   [entrypoints.web]
      # ...
   [entrypoint.web-secure]
      # ...
   [entrypoint.other]
      # ...

[tcp.routers]
   [tcp.routers.Router-1]
      entryPoints = ["web-secure", "other"] # won't listen to entrypoint web
      rule = "HostSNI(`traefik.io`)"
      service = "service-1"
      [tcp.routers.Router-1.tls] # will route TLS requests (and ignore non tls requests)</code></pre>

</details>
<h3 id="rule_1">Rule<a class="headerlink" href="#rule_1" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Rule</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>HostSNI(`domain-1`, ...)</code></td>
<td>Check if the Server Name Indication corresponds to the given <code>domains</code>.</td>
</tr>
</tbody>
</table>
<div class="admonition important">
<p class="admonition-title">HostSNI &amp; TLS</p>
<p>It is important to note that the Server Name Indication is an extension of the TLS protocol.
Hence, only TLS routers will be able to specify a domain name with that rule.
However, non-TLS routers will have to explicitly use that rule with <code>*</code> (every domain) to state that every non-TLS request will be handled by the router.</p>
</div>
<h3 id="services">Services<a class="headerlink" href="#services" title="Permanent link">&para;</a></h3>
<p>You must attach a TCP <a href="../services/">service</a> per TCP router.
Services are the target for the router.</p>
<div class="admonition note">
<p class="admonition-title">TCP Only</p>
<p>TCP routers can only target TCP services (not HTTP services).</p>
</div>
<h3 id="tls_1">TLS<a class="headerlink" href="#tls_1" title="Permanent link">&para;</a></h3>
<p>When specifying a TLS section, you tell Traefik that the current router is dedicated to TLS requests only (and that the router should ignore non-tls requests).
By default, Traefik will terminate the SSL connections (meaning that it will send decrypted data to the services), but you can tell Traefik that the request should pass through (keeping the encrypted data) and be forwarded to the service "as is". </p>
<details class="example"><summary>Configuring TLS Termination</summary><pre class="highlight"><code class="language-toml">[tcp.routers]
   [tcp.routers.Router-1]
      rule = "Host(`foo-domain`)"
      service = "service-id"
      [tcp.routers.Router-1.tls] # will terminate the TLS request by default</code></pre>

</details>
<details class="example"><summary>Configuring passthrough</summary><pre class="highlight"><code class="language-toml">[tcp.routers]
   [tcp.routers.Router-1]
      rule = "Host(`foo-domain`)"
      service = "service-id"
      [tcp.routers.Router-1.tls]
         passthrough=true</code></pre>

</details>
<div class="admonition note">
<p class="admonition-title">TLS &amp; ACME</p>
<p>In the current version, with <a href="../../https-tls/acme/">ACME</a> enabled, automatic certificate generation will apply to every router declaring a TLS section.
In the near future, options will be available to enable fine-grain control of the TLS parameters.</p>
</div>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      



<!-- Application footer -->
<footer class="md-footer">

    <!-- Further information -->
    <div class="md-footer-meta md-typeset">
        <div class="md-footer-meta__inner md-grid">

            <!-- Copyright and theme information -->
            <div class="md-footer-copyright">
                
                <div class="md-footer-copyright__highlight">
                    Copyright &copy; 2016-2019 Containous
                </div>
                
                powered by
                <a href="http://www.mkdocs.org" title="MkDocs">MkDocs</a>
                and
                <a href="http://squidfunk.github.io/mkdocs-material/"
                   title="Material for MkDocs">
                    Material for MkDocs</a>
            </div>

            <!-- Social links -->
            
            
            
        </div>
    </div>
</footer>


    </div>
    
      <script src="../../assets/javascripts/application.d9aa80ab.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:"../.."}})</script>
      
        <script src="../../assets/js/hljs/highlight.pack.js"></script>
      
        <script src="../../assets/js/extra.js"></script>
      
        <script src="../../theme/js/structor-menu.js"></script>
      
    
  </body>
</html>