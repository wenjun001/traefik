



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Traefik Documentation">
      
      
      
        <meta name="author" content="containo.us">
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../assets/img/traefik.icon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.0.2">
    
    
      
        <title>Docker - Traefik</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.982221ab.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/application-palette.224b79ff.css">
      
      
        
        
        <meta name="theme-color" content="#00bcd4">
      
    
    
      <script src="../../assets/javascripts/modernizr.1f0bcf2b.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../assets/fonts/material-icons.css">
    
    
      <link rel="stylesheet" href="../../assets/styles/extra.css">
    
      <link rel="stylesheet" href="../../assets/styles/atom-one-light.css">
    
    
      
        
<script>
  window.ga = window.ga || function() {
    (ga.q = ga.q || []).push(arguments)
  }
  ga.l = +new Date
  /* Setup integration and send page view */
  ga("create", "UA-51880359-3", "docs.traefik.io")
  ga("set", "anonymizeIp", true)
  ga("send", "pageview")
  /* Register handler to log search on blur */
  document.addEventListener("DOMContentLoaded", () => {
    if (document.forms.search) {
      var query = document.forms.search.query
      query.addEventListener("blur", function() {
        if (this.value) {
          var path = document.location.pathname;
          ga("send", "pageview", path + "?q=" + this.value)
        }
      })
    }
  })
</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
      
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="cyan" data-md-color-accent="cyan">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448"
    viewBox="0 0 416 448" id="__github">
  <path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z" />
</svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#traefik-docker" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../.." title="Traefik" class="md-header-nav__button md-logo">
          
            <img src="../../assets/img/traefik.logo.png" width="24" height="24">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              Traefik
            </span>
            <span class="md-header-nav__topic">
              Docker
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  

<a href="https://github.com/containous/traefik/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    GitHub
  </div>
</a>
          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="../.." title="Traefik" class="md-nav__button md-logo">
      
        <img src="../../assets/img/traefik.logo.png" width="48" height="48">
      
    </a>
    Traefik
  </label>
  
    <div class="md-nav__source">
      


  

<a href="https://github.com/containous/traefik/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../kubernetes-ingress/" title="" class="md-nav__link">
      
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../reference/acme/" title="" class="md-nav__link">
      
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../reference/providers/docker/" title="" class="md-nav__link">
      
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../reference/providers/file/" title="" class="md-nav__link">
      
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../reference/providers/kubernetescrd/" title="" class="md-nav__link">
      
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../reference/entrypoints/" title="" class="md-nav__link">
      
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Welcome" class="md-nav__link">
      Welcome
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8">
    
    <label class="md-nav__link" for="nav-8">
      Getting Started
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-8">
        Getting Started
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../getting-started/concepts/" title="Concepts" class="md-nav__link">
      Concepts
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../getting-started/quick-start/" title="Quick Start" class="md-nav__link">
      Quick Start
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../getting-started/configuration-overview/" title="Configuration Introduction" class="md-nav__link">
      Configuration Introduction
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9" type="checkbox" id="nav-9" checked>
    
    <label class="md-nav__link" for="nav-9">
      Configuration Discovery
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-9">
        Configuration Discovery
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../overview/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Docker
      </label>
    
    <a href="./" title="Docker" class="md-nav__link md-nav__link--active">
      Docker
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#configuration-examples" title="Configuration Examples" class="md-nav__link">
    Configuration Examples
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#provider-configuration-options" title="Provider Configuration Options" class="md-nav__link">
    Provider Configuration Options
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#endpoint" title="endpoint" class="md-nav__link">
    endpoint
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#usebindportip-optional-defaultfalse" title="usebindportip (Optional, Default=false)" class="md-nav__link">
    usebindportip (Optional, Default=false)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#exposedbydefault-optional-defaulttrue" title="exposedByDefault (Optional, Default=true)" class="md-nav__link">
    exposedByDefault (Optional, Default=true)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#network-optional" title="network (Optional)" class="md-nav__link">
    network (Optional)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#domain-optional-defaultdockerlocalhost" title="domain (Optional, Default=docker.localhost)" class="md-nav__link">
    domain (Optional, Default=docker.localhost)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#swarmmode-optional-defaultfalse" title="swarmMode (Optional, Default=false)" class="md-nav__link">
    swarmMode (Optional, Default=false)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#swarmmoderefreshseconds-optional-default15" title="swarmModeRefreshSeconds (Optional, Default=15)" class="md-nav__link">
    swarmModeRefreshSeconds (Optional, Default=15)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#routing-configuration-options" title="Routing Configuration Options" class="md-nav__link">
    Routing Configuration Options
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#general" title="General" class="md-nav__link">
    General
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#routers" title="Routers" class="md-nav__link">
    Routers
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#services" title="Services" class="md-nav__link">
    Services
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#middleware" title="Middleware" class="md-nav__link">
    Middleware
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tcp" title="TCP" class="md-nav__link">
    TCP
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#specific-options" title="Specific Options" class="md-nav__link">
    Specific Options
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#traefikenable" title="traefik.enable" class="md-nav__link">
    traefik.enable
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#traefiktags" title="traefik.tags" class="md-nav__link">
    traefik.tags
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#traefikdockernetwork" title="traefik.docker.network" class="md-nav__link">
    traefik.docker.network
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../file/" title="File" class="md-nav__link">
      File
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../kubernetes-crd/" title="Kubernetes IngressRoute" class="md-nav__link">
      Kubernetes IngressRoute
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-10" type="checkbox" id="nav-10">
    
    <label class="md-nav__link" for="nav-10">
      Routing & Load Balancing
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-10">
        Routing & Load Balancing
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../routing/overview/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../routing/entrypoints/" title="Entrypoints" class="md-nav__link">
      Entrypoints
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../routing/routers/" title="Routers" class="md-nav__link">
      Routers
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../routing/services/" title="Services" class="md-nav__link">
      Services
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-11" type="checkbox" id="nav-11">
    
    <label class="md-nav__link" for="nav-11">
      HTTPS & TLS
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-11">
        HTTPS & TLS
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../https-tls/overview/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../https-tls/acme/" title="ACME" class="md-nav__link">
      ACME
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-12" type="checkbox" id="nav-12">
    
    <label class="md-nav__link" for="nav-12">
      Middlewares
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-12">
        Middlewares
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../middlewares/overview/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../middlewares/addprefix/" title="AddPrefix" class="md-nav__link">
      AddPrefix
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../middlewares/basicauth/" title="BasicAuth" class="md-nav__link">
      BasicAuth
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../middlewares/buffering/" title="Buffering" class="md-nav__link">
      Buffering
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../middlewares/chain/" title="Chain" class="md-nav__link">
      Chain
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../middlewares/circuitbreaker/" title="CircuitBreaker" class="md-nav__link">
      CircuitBreaker
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../middlewares/compress/" title="Compress" class="md-nav__link">
      Compress
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../middlewares/digestauth/" title="DigestAuth" class="md-nav__link">
      DigestAuth
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../middlewares/errorpages/" title="Errors" class="md-nav__link">
      Errors
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../middlewares/forwardauth/" title="ForwardAuth" class="md-nav__link">
      ForwardAuth
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../middlewares/headers/" title="Headers" class="md-nav__link">
      Headers
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../middlewares/ipwhitelist/" title="IpWhitelist" class="md-nav__link">
      IpWhitelist
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../middlewares/maxconnection/" title="Maxconn" class="md-nav__link">
      Maxconn
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../middlewares/passtlsclientcert/" title="PassTLSClientCert" class="md-nav__link">
      PassTLSClientCert
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../middlewares/ratelimit/" title="RateLimit" class="md-nav__link">
      RateLimit
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../middlewares/redirectregex/" title="RedirectRegex" class="md-nav__link">
      RedirectRegex
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../middlewares/redirectscheme/" title="RedirectScheme" class="md-nav__link">
      RedirectScheme
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../middlewares/replacepath/" title="ReplacePath" class="md-nav__link">
      ReplacePath
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../middlewares/replacepathregex/" title="ReplacePathRegex" class="md-nav__link">
      ReplacePathRegex
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../middlewares/retry/" title="Retry" class="md-nav__link">
      Retry
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../middlewares/stripprefix/" title="StripPrefix" class="md-nav__link">
      StripPrefix
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../middlewares/stripprefixregex/" title="StripPrefixRegex" class="md-nav__link">
      StripPrefixRegex
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-13" type="checkbox" id="nav-13">
    
    <label class="md-nav__link" for="nav-13">
      Operations
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-13">
        Operations
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../operations/cli/" title="CLI" class="md-nav__link">
      CLI
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../operations/dashboard/" title="Dashboard" class="md-nav__link">
      Dashboard
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../operations/ping/" title="Ping" class="md-nav__link">
      Ping
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../operations/debug-mode/" title="Debug Mode" class="md-nav__link">
      Debug Mode
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-14" type="checkbox" id="nav-14">
    
    <label class="md-nav__link" for="nav-14">
      Observability
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-14">
        Observability
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../observability/logs/" title="Logs" class="md-nav__link">
      Logs
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../observability/access-logs/" title="Access Logs" class="md-nav__link">
      Access Logs
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../observability/tracing/" title="Tracing" class="md-nav__link">
      Tracing
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-15" type="checkbox" id="nav-15">
    
    <label class="md-nav__link" for="nav-15">
      User Guides
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-15">
        User Guides
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../user-guides/crd-acme/" title="Kubernetes and Let's Encrypt" class="md-nav__link">
      Kubernetes and Let's Encrypt
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-16" type="checkbox" id="nav-16">
    
    <label class="md-nav__link" for="nav-16">
      Contributing
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-16">
        Contributing
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../contributing/thank-you/" title="Thank You!" class="md-nav__link">
      Thank You!
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../contributing/submitting-issues/" title="Submitting Issues" class="md-nav__link">
      Submitting Issues
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../contributing/submitting-pull-requests/" title="Submitting PRs" class="md-nav__link">
      Submitting PRs
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../contributing/building-testing/" title="Building and Testing" class="md-nav__link">
      Building and Testing
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../contributing/documentation/" title="Documentation" class="md-nav__link">
      Documentation
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../contributing/data-collection/" title="Data Collection" class="md-nav__link">
      Data Collection
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../contributing/advocating/" title="Advocating" class="md-nav__link">
      Advocating
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../contributing/maintainers/" title="Maintainers" class="md-nav__link">
      Maintainers
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../glossary/" title="Glossary" class="md-nav__link">
      Glossary
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#configuration-examples" title="Configuration Examples" class="md-nav__link">
    Configuration Examples
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#provider-configuration-options" title="Provider Configuration Options" class="md-nav__link">
    Provider Configuration Options
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#endpoint" title="endpoint" class="md-nav__link">
    endpoint
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#usebindportip-optional-defaultfalse" title="usebindportip (Optional, Default=false)" class="md-nav__link">
    usebindportip (Optional, Default=false)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#exposedbydefault-optional-defaulttrue" title="exposedByDefault (Optional, Default=true)" class="md-nav__link">
    exposedByDefault (Optional, Default=true)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#network-optional" title="network (Optional)" class="md-nav__link">
    network (Optional)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#domain-optional-defaultdockerlocalhost" title="domain (Optional, Default=docker.localhost)" class="md-nav__link">
    domain (Optional, Default=docker.localhost)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#swarmmode-optional-defaultfalse" title="swarmMode (Optional, Default=false)" class="md-nav__link">
    swarmMode (Optional, Default=false)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#swarmmoderefreshseconds-optional-default15" title="swarmModeRefreshSeconds (Optional, Default=15)" class="md-nav__link">
    swarmModeRefreshSeconds (Optional, Default=15)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#routing-configuration-options" title="Routing Configuration Options" class="md-nav__link">
    Routing Configuration Options
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#general" title="General" class="md-nav__link">
    General
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#routers" title="Routers" class="md-nav__link">
    Routers
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#services" title="Services" class="md-nav__link">
    Services
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#middleware" title="Middleware" class="md-nav__link">
    Middleware
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tcp" title="TCP" class="md-nav__link">
    TCP
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#specific-options" title="Specific Options" class="md-nav__link">
    Specific Options
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#traefikenable" title="traefik.enable" class="md-nav__link">
    traefik.enable
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#traefiktags" title="traefik.tags" class="md-nav__link">
    traefik.tags
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#traefikdockernetwork" title="traefik.docker.network" class="md-nav__link">
    traefik.docker.network
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/containous/traefik/edit/master/content/providers/docker.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="traefik-docker">Traefik &amp; Docker<a class="headerlink" href="#traefik-docker" title="Permanent link">&para;</a></h1>
<p class="subtitle">A Story of Labels &amp; Containers</p>
<p><img alt="Docker" src="../../assets/img/providers/docker.png" /></p>
<p>Attach labels to your containers and let Traefik do the rest!</p>
<div class="admonition tip">
<p class="admonition-title">The Quick Start Uses Docker</p>
<p>If you haven't already, maybe you'd like to go through the <a href="../../getting-started/quick-start/">quick start</a> that uses the docker provider!</p>
</div>
<h2 id="configuration-examples">Configuration Examples<a class="headerlink" href="#configuration-examples" title="Permanent link">&para;</a></h2>
<details class="example"><summary>Configuring Docker &amp; Deploying / Exposing Services</summary><p>Enabling the docker provider</p>
<pre class="highlight"><code class="language-toml">[providers.docker]
endpoint = "unix:///var/run/docker.sock"</code></pre>

<p>Attaching labels to containers (in your docker compose file)</p>
<pre class="highlight"><code class="language-yaml">version: "3"
services:
  my-container:
    # ...
    labels:
      - traefik.http.routers.my-container.rule=Host(`my-domain`)</code></pre>

</details>
<details class="example"><summary>Configuring Docker Swarm &amp; Deploying / Exposing Services</summary><p>Enabling the docker provider (Swarm Mode)</p>
<pre class="highlight"><code class="language-toml">[docker]
# swarm classic (1.12-)
# endpoint = "tcp://127.0.0.1:2375"
# docker swarm mode (1.12+)
endpoint = "tcp://127.0.0.1:2377"
swarmMode = true</code></pre>

<p>Attaching labels to containers (in your docker compose file)</p>
<pre class="highlight"><code class="language-yaml">version: "3"
services:
  my-container:
    deploy:
      labels:
        - traefik.http.routers.my-container.rule=Host(`my-domain`)</code></pre>

<div class="admonition important">
<p class="admonition-title">Labels in Docker Swarm Mode</p>
<p>If you use a compose file with the Swarm mode, labels should be defined in the <code>deploy</code> part of your service.
This behavior is only enabled for docker-compose version 3+ (<a href="https://docs.docker.com/compose/compose-file/#labels-1">Compose file reference</a>).</p>
</div>
</details>
<h2 id="provider-configuration-options">Provider Configuration Options<a class="headerlink" href="#provider-configuration-options" title="Permanent link">&para;</a></h2>
<div class="admonition tip">
<p class="admonition-title">Browse the Reference</p>
<p>If you're in a hurry, maybe you'd rather go through the <a href="../../reference/providers/docker/">Docker Reference</a>.</p>
</div>
<h3 id="endpoint">endpoint<a class="headerlink" href="#endpoint" title="Permanent link">&para;</a></h3>
<p>Traefik requires access to the docker socket to get its dynamic configuration.</p>
<details class="warning"><summary>Security Notes</summary><p>Depending on your context, accessing the Docker API without any restriction can be a security concern: If Traefik is attacked, then the attacker might get access to the Docker (or Swarm Mode) backend.</p>
<p>As explained in the Docker documentation: (<a href="https://docs.docker.com/engine/security/security/#docker-daemon-attack-surface">Docker Daemon Attack Surface page</a>):</p>
<p><code>[...] only **trusted** users should be allowed to control your Docker daemon [...]</code></p>
<div class="admonition note">
<p class="admonition-title">Improved Security</p>
<p><a href="https://containo.us/traefikee">TraefikEE</a> solves this problem by separating the control plane (connected to Docker) and the data plane (handling the requests).</p>
</div>
<details class="tip"><summary>Resources about Docker's Security</summary><ul>
<li><a href="https://www.youtube.com/watch?v=ltrV-Qmh3oY">KubeCon EU 2018 Keynote, Running with Scissors, from Liz Rice</a></li>
<li><a href="https://www.lvh.io/posts/dont-expose-the-docker-socket-not-even-to-a-container.html">Don't expose the Docker socket (not even to a container)</a></li>
<li><a href="https://news.ycombinator.com/item?id=17983623">A thread on Stack Overflow about sharing the <code>/var/run/docker.sock</code> file</a></li>
<li><a href="https://blog.loof.fr/2018/01/to-dind-or-not-do-dind.html">To Dind or not to DinD</a></li>
</ul>
</details>
</details>
<details class="tip"><summary>Security Compensation</summary><p>Expose the Docker socket over TCP, instead of the default Unix socket file.
It allows different implementation levels of the <a href="https://en.wikipedia.org/wiki/AAA_(computer_security)">AAA (Authentication, Authorization, Accounting) concepts</a>, depending on your security assessment:</p>
<ul>
<li>
<p>Authentication with Client Certificates as described in <a href="https://docs.docker.com/engine/security/https/">"Protect the Docker daemon socket."</a></p>
</li>
<li>
<p>Authorization with the <a href="https://docs.docker.com/engine/extend/plugins_authorization/">Docker Authorization Plugin Mechanism</a></p>
</li>
<li>
<p>Accounting at networking level, by exposing the socket only inside a Docker private network, only available for Traefik.</p>
</li>
<li>
<p>Accounting at container level, by exposing the socket on a another container than Traefik's.
  With Swarm mode, it allows scheduling of Traefik on worker nodes, with only the "socket exposer" container on the manager nodes.</p>
</li>
<li>
<p>Accounting at kernel level, by enforcing kernel calls with mechanisms like <a href="https://en.wikipedia.org/wiki/Security-Enhanced_Linux">SELinux</a>, to only allows an identified set of actions for Traefik's process (or the "socket exposer" process).</p>
</li>
</ul>
<details class="tip"><summary>Additional Resources</summary><ul>
<li><a href="https://github.com/containous/traefik/issues/4174">Traefik issue GH-4174 about security with Docker socket</a></li>
<li><a href="https://developers.redhat.com/blog/2015/02/25/inspecting-docker-activity-with-socat/">Inspecting Docker Activity with Socat</a></li>
<li><a href="https://blog.mikesir87.io/2018/07/letting-traefik-run-on-worker-nodes/">Letting Traefik run on Worker Nodes</a></li>
<li><a href="https://github.com/Tecnativa/docker-socket-proxy">Docker Socket Proxy from Tecnativa</a></li>
</ul>
</details>
</details>
<div class="admonition note">
<p class="admonition-title">Traefik &amp; Swarm Mode</p>
<p>To let Traefik access the Docker Socket of the Swarm manager, it is mandatory to schedule Traefik on the Swarm manager nodes.</p>
</div>
<details class="example"><summary>Using the docker.sock</summary><p>The docker-compose file shares the docker sock with the Traefik container</p>
<pre class="highlight"><code class="language-yaml">version: '3'

services:

  traefik:
     image: traefik:v2.0 # The official v2.0 Traefik docker image
     ports:
       - "80:80"
     volumes:
       - /var/run/docker.sock:/var/run/docker.sock</code></pre>

<p>We specify the docker.sock in traefik's configuration file.</p>
<pre class="highlight"><code class="language-toml"># ...
[providers]
   [providers.docker]
      endpoint = "unix:///var/run/docker.sock"</code></pre>

</details>
<h3 id="usebindportip-optional-defaultfalse">usebindportip (<em>Optional</em>, <em>Default=false</em>)<a class="headerlink" href="#usebindportip-optional-defaultfalse" title="Permanent link">&para;</a></h3>
<p>Traefik routes requests to the IP/Port of the matching container.
When setting <code>usebindportip=true</code>, you tell Traefik to use the IP/Port attached to the container's <em>binding</em> instead of its inner network IP/Port.</p>
<p>When used in conjunction with the <code>traefik.port</code> label (that tells Traefik to route requests to a specific port), Traefik tries to find a binding on port <code>traefik.port</code>.
If it can't find such a binding, Traefik falls back on the internal network IP of the container, but still uses the <code>traefik.port</code> that is set in the label.</p>
<details class="example"><summary>Examples of <code>usebindportip</code> in different situations.</summary><table>
<thead>
<tr>
<th>traefik.port label</th>
<th>Container's binding</th>
<th>Routes to</th>
</tr>
</thead>
<tbody>
<tr>
<td>-</td>
<td>-</td>
<td>IntIP:IntPort</td>
</tr>
<tr>
<td>-</td>
<td>ExtPort:IntPort</td>
<td>IntIP:IntPort</td>
</tr>
<tr>
<td>-</td>
<td>ExtIp:ExtPort:IntPort</td>
<td>ExtIp:ExtPort</td>
</tr>
<tr>
<td>LblPort</td>
<td>-</td>
<td>IntIp:LblPort</td>
</tr>
<tr>
<td>LblPort</td>
<td>ExtIp:ExtPort:LblPort</td>
<td>ExtIp:ExtPort</td>
</tr>
<tr>
<td>LblPort</td>
<td>ExtIp:ExtPort:OtherPort</td>
<td>IntIp:LblPort</td>
</tr>
<tr>
<td>LblPort</td>
<td>ExtIp1:ExtPort1:IntPort1 &amp; ExtIp2:LblPort:IntPort2</td>
<td>ExtIp2:LblPort</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In the above table, ExtIp stands for "external IP found in the binding", IntIp stands for "internal network container's IP", ExtPort stands for "external Port found in the binding", and IntPort stands for "internal network container's port."</p>
</div>
</details>
<h3 id="exposedbydefault-optional-defaulttrue">exposedByDefault (<em>Optional</em>, <em>Default=true</em>)<a class="headerlink" href="#exposedbydefault-optional-defaulttrue" title="Permanent link">&para;</a></h3>
<p>Expose containers by default through Traefik.
If set to false, containers that don't have a <code>traefik.enable=true</code> label will be ignored from the resulting routing configuration.</p>
<h3 id="network-optional">network (<em>Optional</em>)<a class="headerlink" href="#network-optional" title="Permanent link">&para;</a></h3>
<p>Defines a default docker network to use for connections to all containers.</p>
<p>This option can be overridden on a container basis with the <code>traefik.docker.network</code> label.</p>
<h3 id="domain-optional-defaultdockerlocalhost">domain (<em>Optional</em>, <em>Default=docker.localhost</em>)<a class="headerlink" href="#domain-optional-defaultdockerlocalhost" title="Permanent link">&para;</a></h3>
<p>This is the default base domain used for the router rules.</p>
<p>This option can be overridden on a container basis with the
<code>traefik.domain</code> label.</p>
<h3 id="swarmmode-optional-defaultfalse">swarmMode (<em>Optional</em>, <em>Default=false</em>)<a class="headerlink" href="#swarmmode-optional-defaultfalse" title="Permanent link">&para;</a></h3>
<p>Activates the Swarm Mode.</p>
<h3 id="swarmmoderefreshseconds-optional-default15">swarmModeRefreshSeconds (<em>Optional</em>, <em>Default=15</em>)<a class="headerlink" href="#swarmmoderefreshseconds-optional-default15" title="Permanent link">&para;</a></h3>
<p>Defines the polling interval (in seconds) in Swarm Mode.</p>
<h2 id="routing-configuration-options">Routing Configuration Options<a class="headerlink" href="#routing-configuration-options" title="Permanent link">&para;</a></h2>
<h3 id="general">General<a class="headerlink" href="#general" title="Permanent link">&para;</a></h3>
<p>Traefik creates, for each container, a corresponding <a href="../../routing/services/">service</a> and <a href="../../routing/routers/">router</a>.</p>
<p>The Service automatically gets a server per instance of the container, and the router gets a default rule attached to it, based on the container name.</p>
<h3 id="routers">Routers<a class="headerlink" href="#routers" title="Permanent link">&para;</a></h3>
<p>To update the configuration of the Router automatically attached to the container, add labels starting with <code>traefik.routers.{name-of-your-choice}.</code> and followed by the option you want to change. For example, to change the rule, you could add the label <code>traefik.http.routers.my-container.rule=Host(my-domain)</code>.</p>
<p>Every <a href="../../routing/routers/">Router</a> parameter can be updated this way.</p>
<h3 id="services">Services<a class="headerlink" href="#services" title="Permanent link">&para;</a></h3>
<p>To update the configuration of the Service automatically attached to the container, add labels starting with <code>traefik.http.services.{name-of-your-choice}.</code>, followed by the option you want to change. For example, to change the load balancer method, you'd add the label <code>traefik.http.services.{name-of-your-choice}.loadbalancer.method=drr</code>.</p>
<p>Every <a href="../../routing/services/">Service</a> parameter can be updated this way.</p>
<h3 id="middleware">Middleware<a class="headerlink" href="#middleware" title="Permanent link">&para;</a></h3>
<p>You can declare pieces of middleware using labels starting with <code>traefik.http.middlewares.{name-of-your-choice}.</code>, followed by the middleware type/options. For example, to declare a middleware <a href="../../middlewares/redirectscheme/"><code>schemeredirect</code></a> named <code>my-redirect</code>, you'd write <code>traefik.http.middlewares.my-redirect.schemeredirect.scheme: https</code>.</p>
<details class="example"><summary>Declaring and Referencing a Middleware</summary><pre class="highlight"><code class="language-yaml">   services:
     my-container:
       # ...
       labels:
         - traefik.http.middlewares.my-redirect.schemeredirect.scheme=https
         - traefik.http.routers.middlewares=my-redirect</code></pre>

</details>
<div class="admonition warning">
<p class="admonition-title">Conflicts in Declaration</p>
<p>If you declare multiple middleware with the same name but with different parameters, the middleware fails to be declared.</p>
</div>
<h3 id="tcp">TCP<a class="headerlink" href="#tcp" title="Permanent link">&para;</a></h3>
<p>You can declare TCP Routers and/or Services using labels.</p>
<details class="example"><summary>Declaring TCP Routers and Services</summary><pre class="highlight"><code class="language-yaml">   services:
     my-container:
       # ...
       labels:
         - traefik.tcp.routers.my-router.rule="HostSNI(`my-host.com`)"
         - traefik.tcp.routers.my-router.rule.tls="true"
         - traefik.tcp.services.my-service.loadbalancer.server.port="4123"</code></pre>

</details>
<div class="admonition warning">
<p class="admonition-title">TCP and HTTP</p>
<p>If you declare a TCP Router/Service, it will prevent Traefik from automatically create an HTTP Router/Service (like it does by default if no TCP Router/Service is defined).
You can declare both a TCP Router/Service and an HTTP Router/Service for the same container (but you have to do so manually).</p>
</div>
<h3 id="specific-options">Specific Options<a class="headerlink" href="#specific-options" title="Permanent link">&para;</a></h3>
<h4 id="traefikenable">traefik.enable<a class="headerlink" href="#traefikenable" title="Permanent link">&para;</a></h4>
<p>You can tell Traefik to consider (or not) the container by setting <code>traefik.enable</code> to true or false.</p>
<p>This option overrides the value of <code>exposedByDefault</code>.</p>
<h4 id="traefiktags">traefik.tags<a class="headerlink" href="#traefiktags" title="Permanent link">&para;</a></h4>
<p>Sets the tags for <a href="../overview/#constraints-configuration">constraints filtering</a>.</p>
<h4 id="traefikdockernetwork">traefik.docker.network<a class="headerlink" href="#traefikdockernetwork" title="Permanent link">&para;</a></h4>
<p>Overrides the default docker network to use for connections to the container.</p>
<p>If a container is linked to several networks, be sure to set the proper network name (you can check this with <code>docker inspect &lt;container_id&gt;</code>), otherwise it will randomly pick one (depending on how docker is returning them).</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>When deploying a stack from a compose file <code>stack</code>, the networks defined are prefixed with <code>stack</code>.</p>
</div>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      



<!-- Application footer -->
<footer class="md-footer">

    <!-- Further information -->
    <div class="md-footer-meta md-typeset">
        <div class="md-footer-meta__inner md-grid">

            <!-- Copyright and theme information -->
            <div class="md-footer-copyright">
                
                <div class="md-footer-copyright__highlight">
                    Copyright &copy; 2016-2019 Containous
                </div>
                
                powered by
                <a href="http://www.mkdocs.org" title="MkDocs">MkDocs</a>
                and
                <a href="http://squidfunk.github.io/mkdocs-material/"
                   title="Material for MkDocs">
                    Material for MkDocs</a>
            </div>

            <!-- Social links -->
            
            
            
        </div>
    </div>
</footer>


    </div>
    
      <script src="../../assets/javascripts/application.d9aa80ab.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:"../.."}})</script>
      
        <script src="../../assets/js/hljs/highlight.pack.js"></script>
      
        <script src="../../assets/js/extra.js"></script>
      
        <script src="../../theme/js/structor-menu.js"></script>
      
    
  </body>
</html>